<div class="glass-card w-full p-8 text-white">
  <h1 class="text-3xl font-bold mb-6">{{ isEditMode ? 'Edit' : 'Create' }} Applicant</h1>

  <div *ngIf="isLoading" class="text-center py-8">
    <p>Loading applicant data...</p>
    <!-- You can add a spinner icon here if Font Awesome is available -->
    <i class="fas fa-spinner fa-spin text-4xl mt-4"></i>
  </div>

  <form *ngIf="!isLoading" (ngSubmit)="saveApplicant()" #applicantForm="ngForm">
    <!-- Personal Information -->
    <div class="mb-8">
      <h2 class="text-xl font-semibold mb-4 border-b border-white/20 pb-2">Personal Information</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6">
        <div class="form-group">
          <label for="first_name" class="form-label">First Name</label>
          <input type="text" id="first_name" name="first_name" [(ngModel)]="applicant.first_name" required class="form-field">
        </div>
        <div class="form-group">
          <label for="middle_name" class="form-label">Middle Name</label>
          <input type="text" id="middle_name" name="middle_name" [(ngModel)]="applicant.middle_name" class="form-field">
        </div>
        <div class="form-group">
          <label for="last_name" class="form-label">Last Name</label>
          <input type="text" id="last_name" name="last_name" [(ngModel)]="applicant.last_name" required class="form-field">
        </div>
        <div class="form-group">
          <label for="passport_number" class="form-label">Passport Number</label>
          <input type="text" id="passport_number" name="passport_number" [(ngModel)]="applicant.passport_number" class="form-field">
        </div>
        <div class="form-group">
          <label for="date_of_birth" class="form-label">Date of Birth</label>
          <input type="date" id="date_of_birth" name="date_of_birth" [(ngModel)]="applicant.date_of_birth" class="form-field">
        </div>
        <div class="form-group">
          <label for="country" class="form-label">Country</label>
          <select id="country" name="country" [(ngModel)]="applicant.country" class="form-field">
            <option value="">Select Country</option>
            <option value="US">United States</option>
            <option value="CA">Canada</option>
            <option value="MX">Mexico</option>
            <option value="BR">Brazil</option>
            <option value="GB">United Kingdom</option>
            <option value="FR">France</option>
            <option value="DE">Germany</option>
            <option value="IT">Italy</option>
            <option value="ES">Spain</option>
            <option value="CN">China</option>
            <option value="IN">India</option>
            <option value="JP">Japan</option>
            <option value="KR">South Korea</option>
            <option value="AU">Australia</option>
            <option value="NZ">New Zealand</option>
            <option value="PH">Philippines</option>
            <option value="SA">Saudi Arabia</option>
            <option value="AE">United Arab Emirates</option>
            <option value="QA">Qatar</option>
            <option value="KW">Kuwait</option>
            <option value="BH">Bahrain</option>
            <option value="OM">Oman</option>
            <option value="EG">Egypt</option>
            <option value="JO">Jordan</option>
            <option value="LB">Lebanon</option>
            <option value="IQ">Iraq</option>
            <option value="IR">Iran</option>
            <option value="TR">Turkey</option>
            <option value="IL">Israel</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Contact Details -->
    <div class="mb-8">
      <h2 class="text-xl font-semibold mb-4 border-b border-white/20 pb-2">Contact Details</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6">
        <div class="form-group">
          <label for="email" class="form-label">Email</label>
          <input type="email" id="email" name="email" [(ngModel)]="applicant.email" class="form-field">
        </div>
        <div class="form-group">
          <label for="phone_number" class="form-label">Phone Number</label>
          <input type="text" id="phone_number" name="phone_number" [(ngModel)]="applicant.phone_number" class="form-field">
        </div>
        <div class="form-group">
          <label for="whatsapp" class="form-label">WhatsApp</label>
          <input type="text" id="whatsapp" name="whatsapp" [(ngModel)]="applicant.whatsapp" class="form-field">
        </div>
        <div class="form-group">
          <label for="facebook" class="form-label">Facebook URL</label>
          <input type="url" id="facebook" name="facebook" [(ngModel)]="applicant.facebook" class="form-field">
        </div>
        <div class="form-group md:col-span-2">
          <label for="address" class="form-label">Address</label>
          <textarea id="address" name="address" [(ngModel)]="applicant.address" rows="3" class="form-field"></textarea>
        </div>
      </div>
    </div>

    <!-- Employment Details -->
    <div class="mb-8">
      <h2 class="text-xl font-semibold mb-4 border-b border-white/20 pb-2">Employment Details</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-x-6">
        <div class="form-group">
          <label for="main_status" class="form-label">Main Status</label>
          <select id="main_status" name="main_status" [(ngModel)]="applicant.main_status" class="form-field">
            <option value="">Select Status</option>
            <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="applicant_type" class="form-label">Applicant Type</label>
          <select id="applicant_type" name="applicant_type" [(ngModel)]="applicant.applicant_type" class="form-field">
            <option>household</option>
            <option>skilled</option>
          </select>
        </div>
        <div class="form-group">
          <label for="date_deployment" class="form-label">Deployment Date</label>
          <input type="date" id="date_deployment" name="date_deployment" [(ngModel)]="applicant.date_deployment" class="form-field">
        </div>
      </div>
    </div>

    <div class="flex justify-end items-center mt-8">
      <a routerLink="/admin/applicants" class="text-gray-300 hover:text-white mr-6">Cancel</a>
      <button type="submit" [disabled]="!applicantForm.form.valid"
              class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-md transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
        Save
      </button>
    </div>
  </form>
</div>
